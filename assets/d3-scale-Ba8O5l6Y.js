import{t as h,a as f,b as m,c as g}from"./d3-array-CriIMifa.js";import{f as v,p as k,a as d,b,c as p,d as M}from"./d3-format-CzD4bSOQ.js";function N(t,o){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(o).domain(t);break}return this}function w(t,o,e,n){var u=h(t,o,e),s;switch(n=v(n??",f"),n.type){case"s":{var r=Math.max(Math.abs(t),Math.abs(o));return n.precision==null&&!isNaN(s=b(u,r))&&(n.precision=s),p(n,r)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=d(u,Math.max(Math.abs(t),Math.abs(o))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=k(u))&&(n.precision=s-(n.type==="%")*2);break}}return M(n)}function x(t){var o=t.domain;return t.ticks=function(e){var n=o();return f(n[0],n[n.length-1],e??10)},t.tickFormat=function(e,n){var u=o();return w(u[0],u[u.length-1],e??10,n)},t.nice=function(e){e==null&&(e=10);var n=o(),u=0,s=n.length-1,r=n[u],l=n[s],i,a,c=10;for(l<r&&(a=r,r=l,l=a,a=u,u=s,s=a);c-- >0;){if(a=m(r,l,e),a===i)return n[u]=r,n[s]=l,o(n);if(a>0)r=Math.floor(r/a)*a,l=Math.ceil(l/a)*a;else if(a<0)r=Math.ceil(r*a)/a,l=Math.floor(l*a)/a;else break;i=a}return t},t}function y(){var t=0,o=1,e=1,n=[.5],u=[0,1],s;function r(i){return i!=null&&i<=i?u[g(n,i,0,e)]:s}function l(){var i=-1;for(n=new Array(e);++i<e;)n[i]=((i+1)*o-(i-e)*t)/(e+1);return r}return r.domain=function(i){return arguments.length?([t,o]=i,t=+t,o=+o,l()):[t,o]},r.range=function(i){return arguments.length?(e=(u=Array.from(i)).length-1,l()):u.slice()},r.invertExtent=function(i){var a=u.indexOf(i);return a<0?[NaN,NaN]:a<1?[t,n[0]]:a>=e?[n[e-1],o]:[n[a-1],n[a]]},r.unknown=function(i){return arguments.length&&(s=i),r},r.thresholds=function(){return n.slice()},r.copy=function(){return y().domain([t,o]).range(u).unknown(s)},N.apply(x(r),arguments)}export{y as q};
